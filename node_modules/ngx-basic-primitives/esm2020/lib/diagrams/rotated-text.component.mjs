import { Component, Input } from "@angular/core";
import { TextOrientationType, VerticalAlignmentType, HorizontalAlignmentType } from "../enums";
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export class RotatedText {
    constructor() {
        this.width = 0;
        this.height = 0;
        this.orientation = TextOrientationType.RotateRight;
        this.horizontalAlignment = HorizontalAlignmentType.Center;
        this.verticalAlignment = VerticalAlignmentType.Middle;
        this.hasVerticalAlignment = false;
        this.tableStyle = {};
        this.tdStyle = {};
        this.divStyle = {};
    }
    ngOnChanges() {
        const transform = this.getTransform(this.orientation);
        let size = {};
        if (this.orientation === TextOrientationType.Horizontal) {
            size = {
                width: this.width + "px",
                height: this.height + "px",
                maxWidth: this.width + "px",
                maxHeight: this.height + "px"
            };
        }
        else {
            size = {
                width: this.height + "px",
                height: this.width + "px",
                maxWidth: this.height + "px",
                maxHeight: this.width + "px",
                left: Math.round(this.width / 2.0 - this.height / 2.0) + "px",
                top: Math.round(this.height / 2.0 - this.width / 2.0) + "px"
            };
        }
        var style = {
            position: "absolute",
            padding: 0,
            margin: 0,
            lineHeight: 1,
            textAlign: this.getHorizontalAlignment(this.horizontalAlignment),
            WebkitTransformOrigin: "center center",
            MozTransformOrigin: "center center",
            OTransformOrigin: "center center",
            msTransformOrigin: "center center",
            WebkitTransform: transform,
            MozTransform: transform,
            OTransform: transform,
            msTransform: transform,
            transform: transform,
            textOverflow: "ellipsis",
            whiteSpace: "nowrap",
            overflow: "hidden",
            tableLayout: "fixed",
            ...size
        };
        this.hasVerticalAlignment = this.verticalAlignment !== VerticalAlignmentType.Top;
        this.tdStyle = {
            'verticalAlign': this.getVerticalAlignment(this.verticalAlignment),
            'padding': 0,
            'textOverflow': 'ellipsis',
            'whiteSpace': 'nowrap',
            'overflow': 'hidden'
        };
        this.tableStyle = {
            ...style,
            borderCollapse: "collapse"
        };
        this.divStyle = style;
    }
    getTransform(orientation) {
        let result = "";
        switch (orientation) {
            case TextOrientationType.RotateLeft:
                result = "rotate(-90deg)";
                break;
            case TextOrientationType.RotateRight:
                result = "rotate(90deg)";
                break;
            default:
                break;
        }
        return result;
    }
    getHorizontalAlignment(horizontalAlignment) {
        let result = "";
        switch (horizontalAlignment) {
            case HorizontalAlignmentType.Center:
                result = 'center';
                break;
            case HorizontalAlignmentType.Left:
                result = 'left';
                break;
            case HorizontalAlignmentType.Right:
                result = 'right';
                break;
        }
        return result;
    }
    getVerticalAlignment(verticalAlignment) {
        let result = "";
        switch (verticalAlignment) {
            case VerticalAlignmentType.Bottom:
                result = 'bottom';
                break;
            case VerticalAlignmentType.Middle:
                result = 'middle';
                break;
            case VerticalAlignmentType.Top:
                result = 'top';
                break;
        }
        return result;
    }
}
RotatedText.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.2", ngImport: i0, type: RotatedText, deps: [], target: i0.ɵɵFactoryTarget.Component });
RotatedText.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.2", type: RotatedText, selector: "rotated-text", inputs: { width: "width", height: "height", orientation: "orientation", horizontalAlignment: "horizontalAlignment", verticalAlignment: "verticalAlignment" }, usesOnChanges: true, ngImport: i0, template: "<div *ngIf=\"hasVerticalAlignment; then tableTemplate; else divTemplate\"></div>\r\n<ng-template #tableTemplate>\r\n  <table [ngStyle]=\"tableStyle\">\r\n    <tbody>\r\n      <tr>\r\n        <td [ngStyle]=\"tdStyle\">\r\n          <ng-container *ngTemplateOutlet=\"content\"></ng-container>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</ng-template>\r\n<ng-template #divTemplate>\r\n  <div [ngStyle]=\"divStyle\">\r\n    <ng-container *ngTemplateOutlet=\"content\"></ng-container>\r\n  </div>\r\n</ng-template>\r\n<ng-template #content><ng-content></ng-content></ng-template>", styles: [""], directives: [{ type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i1.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.2", ngImport: i0, type: RotatedText, decorators: [{
            type: Component,
            args: [{ selector: 'rotated-text', template: "<div *ngIf=\"hasVerticalAlignment; then tableTemplate; else divTemplate\"></div>\r\n<ng-template #tableTemplate>\r\n  <table [ngStyle]=\"tableStyle\">\r\n    <tbody>\r\n      <tr>\r\n        <td [ngStyle]=\"tdStyle\">\r\n          <ng-container *ngTemplateOutlet=\"content\"></ng-container>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</ng-template>\r\n<ng-template #divTemplate>\r\n  <div [ngStyle]=\"divStyle\">\r\n    <ng-container *ngTemplateOutlet=\"content\"></ng-container>\r\n  </div>\r\n</ng-template>\r\n<ng-template #content><ng-content></ng-content></ng-template>", styles: [""] }]
        }], propDecorators: { width: [{
                type: Input
            }], height: [{
                type: Input
            }], orientation: [{
                type: Input
            }], horizontalAlignment: [{
                type: Input
            }], verticalAlignment: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm90YXRlZC10ZXh0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1iYXNpYy1wcmltaXRpdmVzL3NyYy9saWIvZGlhZ3JhbXMvcm90YXRlZC10ZXh0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1iYXNpYy1wcmltaXRpdmVzL3NyYy9saWIvZGlhZ3JhbXMvcm90YXRlZC10ZXh0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFhLE1BQU0sZUFBZSxDQUFDO0FBQzVELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxxQkFBcUIsRUFBRSx1QkFBdUIsRUFBRSxNQUFNLFVBQVUsQ0FBQzs7O0FBTy9GLE1BQU0sT0FBTyxXQUFXO0lBTHhCO1FBTWEsVUFBSyxHQUFXLENBQUMsQ0FBQztRQUNsQixXQUFNLEdBQVcsQ0FBQyxDQUFDO1FBQ25CLGdCQUFXLEdBQXdCLG1CQUFtQixDQUFDLFdBQVcsQ0FBQztRQUNuRSx3QkFBbUIsR0FBNEIsdUJBQXVCLENBQUMsTUFBTSxDQUFDO1FBQzlFLHNCQUFpQixHQUEwQixxQkFBcUIsQ0FBQyxNQUFNLENBQUM7UUFFakYseUJBQW9CLEdBQWEsS0FBSyxDQUFDO1FBQ3ZDLGVBQVUsR0FBWSxFQUFFLENBQUM7UUFDekIsWUFBTyxHQUFZLEVBQUUsQ0FBQztRQUN0QixhQUFRLEdBQVksRUFBRSxDQUFDO0tBMEcxQjtJQXhHRyxXQUFXO1FBQ1QsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFdEQsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ2QsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLG1CQUFtQixDQUFDLFVBQVUsRUFBRTtZQUN2RCxJQUFJLEdBQUc7Z0JBQ0wsS0FBSyxF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LEdBQUcsUUFBUSxDQUFDO2dCQUNsQixNQUFNO1lBQ1YsS0FBSyx1QkFBdUIsQ0FBQyxJQUFJO2dCQUM3QixNQUFNLEdBQUcsTUFBTSxDQUFDO2dCQUNoQixNQUFNO1lBQ1YsS0FBSyx1QkFBdUIsQ0FBQyxLQUFLO2dCQUM5QixNQUFNLEdBQUcsT0FBTyxDQUFDO2dCQUNqQixNQUFNO1NBQ2I7UUFDRCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRUQsb0JBQW9CLENBQUMsaUJBQXdDO1FBQ3pELElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNoQixRQUFPLGlCQUFpQixFQUFFO1lBQ3RCLEtBQUsscUJBQXFCLENBQUMsTUFBTTtnQkFDN0IsTUFBTSxHQUFHLFFBQVEsQ0FBQztnQkFDbEIsTUFBTTtZQUNWLEtBQUsscUJBQXFCLENBQUMsTUFBTTtnQkFDN0IsTUFBTSxHQUFHLFFBQVEsQ0FBQztnQkFDbEIsTUFBTTtZQUNWLEtBQUsscUJBQXFCLENBQUMsR0FBRztnQkFDMUIsTUFBTSxHQUFHLEtBQUssQ0FBQztnQkFDZixNQUFNO1NBQ2I7UUFDRCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDOzt3R0FuSFUsV0FBVzs0RkFBWCxXQUFXLHVPQ1J4QixzbEJBaUI2RDsyRkRUaEQsV0FBVztrQkFMdkIsU0FBUzsrQkFDSSxjQUFjOzhCQUtmLEtBQUs7c0JBQWIsS0FBSztnQkFDRyxNQUFNO3NCQUFkLEtBQUs7Z0JBQ0csV0FBVztzQkFBbkIsS0FBSztnQkFDRyxtQkFBbUI7c0JBQTNCLEtBQUs7Z0JBQ0csaUJBQWlCO3NCQUF6QixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25DaGFuZ2VzIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcclxuaW1wb3J0IHsgVGV4dE9yaWVudGF0aW9uVHlwZSwgVmVydGljYWxBbGlnbm1lbnRUeXBlLCBIb3Jpem9udGFsQWxpZ25tZW50VHlwZSB9IGZyb20gXCIuLi9lbnVtc1wiO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ3JvdGF0ZWQtdGV4dCcsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vcm90YXRlZC10ZXh0LmNvbXBvbmVudC5odG1sJyxcclxuICAgIHN0eWxlVXJsczogWycuL3JvdGF0ZWQtdGV4dC5jb21wb25lbnQuY3NzJ11cclxuICB9KVxyXG5leHBvcnQgY2xhc3MgUm90YXRlZFRleHQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xyXG4gICAgQElucHV0KCkgd2lkdGg6IG51bWJlciA9IDA7XHJcbiAgICBASW5wdXQoKSBoZWlnaHQ6IG51bWJlciA9IDA7XHJcbiAgICBASW5wdXQoKSBvcmllbnRhdGlvbjogVGV4dE9yaWVudGF0aW9uVHlwZSA9IFRleHRPcmllbnRhdGlvblR5cGUuUm90YXRlUmlnaHQ7XHJcbiAgICBASW5wdXQoKSBob3Jpem9udGFsQWxpZ25tZW50OiBIb3Jpem9udGFsQWxpZ25tZW50VHlwZSA9IEhvcml6b250YWxBbGlnbm1lbnRUeXBlLkNlbnRlcjtcclxuICAgIEBJbnB1dCgpIHZlcnRpY2FsQWxpZ25tZW50OiBWZXJ0aWNhbEFsaWdubWVudFR5cGUgPSBWZXJ0aWNhbEFsaWdubWVudFR5cGUuTWlkZGxlO1xyXG5cclxuICAgIGhhc1ZlcnRpY2FsQWxpZ25tZW50IDogQm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgdGFibGVTdHlsZSA6IE9iamVjdCA9IHt9O1xyXG4gICAgdGRTdHlsZSA6IE9iamVjdCA9IHt9O1xyXG4gICAgZGl2U3R5bGUgOiBPYmplY3QgPSB7fTtcclxuXHJcbiAgICBuZ09uQ2hhbmdlcygpOiB2b2lkIHtcclxuICAgICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy5nZXRUcmFuc2Zvcm0odGhpcy5vcmllbnRhdGlvbik7XHJcbiAgXHJcbiAgICAgIGxldCBzaXplID0ge307XHJcbiAgICAgIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSBUZXh0T3JpZW50YXRpb25UeXBlLkhvcml6b250YWwpIHtcclxuICAgICAgICBzaXplID0ge1xyXG4gICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGggKyBcInB4XCIsXHJcbiAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0ICsgXCJweFwiLFxyXG4gICAgICAgICAgbWF4V2lkdGg6IHRoaXMud2lkdGggKyBcInB4XCIsXHJcbiAgICAgICAgICBtYXhIZWlnaHQ6IHRoaXMuaGVpZ2h0ICsgXCJweFwiXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNpemUgPSB7XHJcbiAgICAgICAgICB3aWR0aDogdGhpcy5oZWlnaHQgKyBcInB4XCIsXHJcbiAgICAgICAgICBoZWlnaHQ6IHRoaXMud2lkdGggKyBcInB4XCIsXHJcbiAgICAgICAgICBtYXhXaWR0aDogdGhpcy5oZWlnaHQgKyBcInB4XCIsXHJcbiAgICAgICAgICBtYXhIZWlnaHQ6IHRoaXMud2lkdGggKyBcInB4XCIsXHJcbiAgICAgICAgICBsZWZ0OiBNYXRoLnJvdW5kKHRoaXMud2lkdGggLyAyLjAgLSB0aGlzLmhlaWdodCAvIDIuMCkgKyBcInB4XCIsXHJcbiAgICAgICAgICB0b3A6IE1hdGgucm91bmQodGhpcy5oZWlnaHQgLyAyLjAgLSB0aGlzLndpZHRoIC8gMi4wKSArIFwicHhcIlxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB2YXIgc3R5bGUgPSB7XHJcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICBwYWRkaW5nOiAwLFxyXG4gICAgICAgIG1hcmdpbjogMCxcclxuICAgICAgICBsaW5lSGVpZ2h0OiAxLFxyXG4gICAgICAgIHRleHRBbGlnbjogdGhpcy5nZXRIb3Jpem9udGFsQWxpZ25tZW50KHRoaXMuaG9yaXpvbnRhbEFsaWdubWVudCksXHJcbiAgICAgICAgV2Via2l0VHJhbnNmb3JtT3JpZ2luOiBcImNlbnRlciBjZW50ZXJcIixcclxuICAgICAgICBNb3pUcmFuc2Zvcm1PcmlnaW46IFwiY2VudGVyIGNlbnRlclwiLFxyXG4gICAgICAgIE9UcmFuc2Zvcm1PcmlnaW46IFwiY2VudGVyIGNlbnRlclwiLFxyXG4gICAgICAgIG1zVHJhbnNmb3JtT3JpZ2luOiBcImNlbnRlciBjZW50ZXJcIixcclxuICAgICAgICBXZWJraXRUcmFuc2Zvcm06IHRyYW5zZm9ybSxcclxuICAgICAgICBNb3pUcmFuc2Zvcm06IHRyYW5zZm9ybSxcclxuICAgICAgICBPVHJhbnNmb3JtOiB0cmFuc2Zvcm0sXHJcbiAgICAgICAgbXNUcmFuc2Zvcm06IHRyYW5zZm9ybSxcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybSxcclxuICAgICAgICB0ZXh0T3ZlcmZsb3c6IFwiZWxsaXBzaXNcIixcclxuICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxyXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxyXG4gICAgICAgIHRhYmxlTGF5b3V0OiBcImZpeGVkXCIsXHJcbiAgICAgICAgLi4uc2l6ZVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5oYXNWZXJ0aWNhbEFsaWdubWVudCA9IHRoaXMudmVydGljYWxBbGlnbm1lbnQgIT09IFZlcnRpY2FsQWxpZ25tZW50VHlwZS5Ub3A7XHJcbiAgICAgIHRoaXMudGRTdHlsZSA9IHtcclxuICAgICAgICAndmVydGljYWxBbGlnbic6IHRoaXMuZ2V0VmVydGljYWxBbGlnbm1lbnQodGhpcy52ZXJ0aWNhbEFsaWdubWVudCksXHJcbiAgICAgICAgJ3BhZGRpbmcnOiAwLFxyXG4gICAgICAgICd0ZXh0T3ZlcmZsb3cnOiAnZWxsaXBzaXMnLFxyXG4gICAgICAgICd3aGl0ZVNwYWNlJzogJ25vd3JhcCcsXHJcbiAgICAgICAgJ292ZXJmbG93JzogJ2hpZGRlbidcclxuICAgICAgfTtcclxuICAgICAgdGhpcy50YWJsZVN0eWxlID0geyBcclxuICAgICAgICAuLi5zdHlsZSwgXHJcbiAgICAgICAgYm9yZGVyQ29sbGFwc2U6IFwiY29sbGFwc2VcIiBcclxuICAgICAgfTtcclxuICAgICAgdGhpcy5kaXZTdHlsZSA9IHN0eWxlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRyYW5zZm9ybShvcmllbnRhdGlvbjogVGV4dE9yaWVudGF0aW9uVHlwZSkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuICAgICAgc3dpdGNoIChvcmllbnRhdGlvbikge1xyXG4gICAgICAgIGNhc2UgVGV4dE9yaWVudGF0aW9uVHlwZS5Sb3RhdGVMZWZ0OlxyXG4gICAgICAgICAgcmVzdWx0ID0gXCJyb3RhdGUoLTkwZGVnKVwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBUZXh0T3JpZW50YXRpb25UeXBlLlJvdGF0ZVJpZ2h0OlxyXG4gICAgICAgICAgcmVzdWx0ID0gXCJyb3RhdGUoOTBkZWcpXCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbiAgXHJcbiAgZ2V0SG9yaXpvbnRhbEFsaWdubWVudChob3Jpem9udGFsQWxpZ25tZW50OiBIb3Jpem9udGFsQWxpZ25tZW50VHlwZSkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuICAgICAgc3dpdGNoKGhvcml6b250YWxBbGlnbm1lbnQpIHtcclxuICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWdubWVudFR5cGUuQ2VudGVyOlxyXG4gICAgICAgICAgICAgIHJlc3VsdCA9ICdjZW50ZXInO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25tZW50VHlwZS5MZWZ0OlxyXG4gICAgICAgICAgICAgIHJlc3VsdCA9ICdsZWZ0JztcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWdubWVudFR5cGUuUmlnaHQ6XHJcbiAgICAgICAgICAgICAgcmVzdWx0ID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuICBcclxuICBnZXRWZXJ0aWNhbEFsaWdubWVudCh2ZXJ0aWNhbEFsaWdubWVudDogVmVydGljYWxBbGlnbm1lbnRUeXBlKSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gICAgICBzd2l0Y2godmVydGljYWxBbGlnbm1lbnQpIHtcclxuICAgICAgICAgIGNhc2UgVmVydGljYWxBbGlnbm1lbnRUeXBlLkJvdHRvbTpcclxuICAgICAgICAgICAgICByZXN1bHQgPSAnYm90dG9tJztcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgVmVydGljYWxBbGlnbm1lbnRUeXBlLk1pZGRsZTpcclxuICAgICAgICAgICAgICByZXN1bHQgPSAnbWlkZGxlJztcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgVmVydGljYWxBbGlnbm1lbnRUeXBlLlRvcDpcclxuICAgICAgICAgICAgICByZXN1bHQgPSAndG9wJztcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxufVxyXG4iLCI8ZGl2ICpuZ0lmPVwiaGFzVmVydGljYWxBbGlnbm1lbnQ7IHRoZW4gdGFibGVUZW1wbGF0ZTsgZWxzZSBkaXZUZW1wbGF0ZVwiPjwvZGl2PlxyXG48bmctdGVtcGxhdGUgI3RhYmxlVGVtcGxhdGU+XHJcbiAgPHRhYmxlIFtuZ1N0eWxlXT1cInRhYmxlU3R5bGVcIj5cclxuICAgIDx0Ym9keT5cclxuICAgICAgPHRyPlxyXG4gICAgICAgIDx0ZCBbbmdTdHlsZV09XCJ0ZFN0eWxlXCI+XHJcbiAgICAgICAgICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwiY29udGVudFwiPjwvbmctY29udGFpbmVyPlxyXG4gICAgICAgIDwvdGQ+XHJcbiAgICAgIDwvdHI+XHJcbiAgICA8L3Rib2R5PlxyXG4gIDwvdGFibGU+XHJcbjwvbmctdGVtcGxhdGU+XHJcbjxuZy10ZW1wbGF0ZSAjZGl2VGVtcGxhdGU+XHJcbiAgPGRpdiBbbmdTdHlsZV09XCJkaXZTdHlsZVwiPlxyXG4gICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImNvbnRlbnRcIj48L25nLWNvbnRhaW5lcj5cclxuICA8L2Rpdj5cclxuPC9uZy10ZW1wbGF0ZT5cclxuPG5nLXRlbXBsYXRlICNjb250ZW50PjxuZy1jb250ZW50PjwvbmctY29udGVudD48L25nLXRlbXBsYXRlPiJdfQ==